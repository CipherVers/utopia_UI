{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/token":{"post":{"summary":"Login For Access Token","description":"OAuth2 compatible token login endpoint","operationId":"login_for_access_token_token_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_for_access_token_token_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/register":{"post":{"summary":"Register Customer","description":"Customer registration endpoint","operationId":"register_customer_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Customer"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/users/me":{"get":{"summary":"Get Current User","description":"Get current logged-in user details","operationId":"get_current_user_api_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/videos/saved":{"get":{"summary":"Get Saved Videos","description":"Get videos saved by the current user with pagination","operationId":"get_saved_videos_api_videos_saved_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VideoResponse"},"title":"Response Get Saved Videos Api Videos Saved Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/liked":{"get":{"summary":"Get Liked Videos","description":"Get videos liked by the current user with pagination","operationId":"get_liked_videos_api_videos_liked_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VideoResponse"},"title":"Response Get Liked Videos Api Videos Liked Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/user/{username}":{"get":{"summary":"Get User Videos","description":"Get videos for a specific user with pagination","operationId":"get_user_videos_api_videos_user__username__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"username","in":"path","required":true,"schema":{"type":"string","title":"Username"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VideoResponse"},"title":"Response Get User Videos Api Videos User  Username  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/ranked":{"get":{"summary":"Get Ranked Videos","description":"Get videos ranked by various metrics with pagination\nSupported sort_by options:\n- 'trending': Based on engagement score\n- 'popular': Based on likes and views\n- 'recent': Most recently uploaded\n- 'top_rated': Highest average rating","operationId":"get_ranked_videos_api_videos_ranked_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","title":"Sort By"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Limit"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VideoResponse"},"title":"Response Get Ranked Videos Api Videos Ranked Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/{video_id}/like":{"post":{"summary":"Like Video","description":"Like or unlike a video","operationId":"like_video_api_videos__video_id__like_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/{video_id}/save":{"post":{"summary":"Save Video","description":"Save or unsave a video","operationId":"save_video_api_videos__video_id__save_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/videos/{video_id}/rate":{"post":{"summary":"Rate Video","description":"Rate a video (0-100)","operationId":"rate_video_api_videos__video_id__rate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"video_id","in":"path","required":true,"schema":{"type":"integer","title":"Video Id"}},{"name":"rating","in":"query","required":true,"schema":{"type":"number","title":"Rating"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_login_for_access_token_token_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"^password$"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_for_access_token_token_post"},"Customer":{"properties":{"username":{"type":"string","title":"Username"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"id":{"type":"integer","title":"Id"},"is_active":{"type":"boolean","title":"Is Active","default":true},"total_videos_watched":{"type":"integer","title":"Total Videos Watched","default":0},"total_likes_given":{"type":"integer","title":"Total Likes Given","default":0},"total_videos_saved":{"type":"integer","title":"Total Videos Saved","default":0},"first_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Name"},"date_of_birth":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date Of Birth"},"gender":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Gender"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"profile_picture":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Profile Picture"},"preferred_categories":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Preferred Categories"},"interaction_score":{"type":"number","title":"Interaction Score","default":0}},"type":"object","required":["username","id"],"title":"Customer"},"CustomerCreate":{"properties":{"username":{"type":"string","title":"Username"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["username","password"],"title":"CustomerCreate"},"CustomerResponse":{"properties":{"username":{"type":"string","title":"Username"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["username","id"],"title":"CustomerResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"},"email":{"type":"string","title":"Email"}},"type":"object","required":["access_token","token_type","email"],"title":"Token"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VideoResponse":{"properties":{"id":{"type":"string","title":"Id"},"user":{"type":"string","title":"User"},"url":{"type":"string","title":"Url"},"title":{"type":"string","title":"Title"},"likes":{"type":"integer","title":"Likes","default":0},"saves":{"type":"integer","title":"Saves","default":0},"score":{"type":"number","title":"Score","default":0}},"type":"object","required":["id","user","url","title"],"title":"VideoResponse"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"token"}}}}}}